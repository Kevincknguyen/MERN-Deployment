{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Documents\\\\Bootcamp_Files\\\\Dojo_Assignments\\\\mern_stack\\\\Week3\\\\core_task\\\\redbelt\\\\client\\\\src\\\\views\\\\Add.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Add = () => {\n  _s();\n\n  let [result, setResult] = useState({\n    name: \"\",\n    chests: 0,\n    catchphrase: \"\",\n    image: \"\",\n    post: \"\",\n    pegleg: true,\n    eyepatch: true,\n    hookhand: true\n  });\n  let [errorArray, seterrorArray] = useState([]);\n  const history = useHistory(); // ,history.push(\"/pirates\")}\n\n  const submitHandler = e => {\n    e.preventDefault();\n    seterrorArray([]);\n    axios.post('http://localhost:8000/server/pirates/add', result).then(res => (console.log(res), console.log(\"success\"), history.push(\"/pirates\"))).catch(err => {\n      console.log(err.response.data);\n      const errResponse = err.response.data.errors;\n      console.log(errResponse);\n      let tempArr = [];\n\n      for (const key in errResponse) {\n        if (errResponse.hasOwnProperty(key)) {\n          tempArr.push(errResponse[key].message);\n        }\n      }\n\n      seterrorArray(tempArr);\n    });\n    setResult({\n      name: \"\",\n      chests: 0,\n      catchphrase: \"\",\n      image: \"\",\n      post: \"\",\n      pegleg: true,\n      eyepatch: true,\n      hookhand: true\n    });\n  };\n\n  const resultHandler = e => {\n    console.log(typeof e.target.value);\n    console.log(typeof e.target.name);\n    console.log(e.target.value);\n\n    if (e.target.name === \"pegleg\") {\n      setResult({ ...result,\n        [e.target.name]: !result.pegleg\n      });\n    } else if (e.target.name === \"hookhand\") {\n      setResult({ ...result,\n        [e.target.name]: !result.hookhand\n      });\n    } else if (e.target.name === \"eyepatch\") {\n      setResult({ ...result,\n        [e.target.name]: !result.eyepatch\n      });\n    } // else if (typeof e.target.value===Boolean){\n    //     console.log(\"boolean\")\n    //     setResult({...result,\n    //     [e.target.name]: !e.target.value})\n    // }\n    else {\n      setResult({ ...result,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => history.goBack(),\n      children: \"Go back\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"name\",\n          onChange: e => resultHandler(e),\n          value: result.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), result.name < 2 ? \"Name must be at least 2 characters\" : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Chests\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 38\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"chests\",\n          onChange: e => resultHandler(e),\n          value: result.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Catchphrase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 43\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"catchphrase\",\n          onChange: e => resultHandler(e),\n          value: result.catchphrase\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 36\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          name: \"post\",\n          onClick: e => resultHandler(e),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Choose your post!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Captain\",\n            children: \"Captain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"First Mate\",\n            children: \"First Mate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Boatswain\",\n            children: \" Boatswain\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Powder Monkey\",\n            children: \"Powder Monkey\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"image\",\n          onChange: e => resultHandler(e),\n          value: result.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Pegleg?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"pegleg\",\n          checked: result.pegleg,\n          onChange: e => resultHandler(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Eyepatch?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"eyepatch\",\n          checked: result.eyepatch,\n          onChange: e => resultHandler(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Hookhand?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          name: \"hookhand\",\n          checked: result.hookhand,\n          onChange: e => resultHandler(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: result.name < 3 || result.chests < 1 || result.catchphrase < 5 || result.image === \"\" || result.post === \"\",\n        type: \"submit\",\n        children: \"Submit form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), errorArray.map((err, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: err\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Add, \"egAMpnS2l+h5Lsi4bJd9EIaXR5g=\", false, function () {\n  return [useHistory];\n});\n\n_c = Add;\nexport default Add;\n\nvar _c;\n\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"sources":["C:/Users/kevin/Documents/Bootcamp_Files/Dojo_Assignments/mern_stack/Week3/core_task/redbelt/client/src/views/Add.jsx"],"names":["React","useState","axios","useHistory","Add","result","setResult","name","chests","catchphrase","image","post","pegleg","eyepatch","hookhand","errorArray","seterrorArray","history","submitHandler","e","preventDefault","then","res","console","log","push","catch","err","response","data","errResponse","errors","tempArr","key","hasOwnProperty","message","resultHandler","target","value","goBack","price","map","i"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport axios from \"axios\"\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nconst Add = () => {\r\n    \r\n    let [result, setResult] = useState({name:\"\",chests:0,catchphrase:\"\", image:\"\",post:\"\",pegleg:true,eyepatch:true,hookhand:true})\r\n    let[errorArray,seterrorArray]=useState([])\r\n    const history=useHistory()\r\n    // ,history.push(\"/pirates\")}\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n        seterrorArray([])\r\n        axios.post('http://localhost:8000/server/pirates/add',result)\r\n        .then(res=>(console.log(res),console.log(\"success\"),history.push(\"/pirates\")))\r\n        .catch(err=>{\r\n            console.log(err.response.data)\r\n            const errResponse=err.response.data.errors\r\n            console.log(errResponse)\r\n            let tempArr=[];\r\n            for (const key in errResponse){\r\n                if(errResponse.hasOwnProperty(key)){\r\n                    tempArr.push(errResponse[key].message)\r\n                }\r\n\r\n            }\r\n            seterrorArray(tempArr)\r\n        })\r\n        \r\n        setResult({name:\"\",chests:0,catchphrase:\"\", image:\"\",post:\"\",pegleg:true,eyepatch:true,hookhand:true})\r\n        \r\n\r\n    }\r\n\r\n    const resultHandler=e=>{\r\n        console.log(typeof e.target.value)\r\n        console.log(typeof e.target.name)\r\n        console.log(e.target.value)\r\n        if (e.target.name===\"pegleg\"){\r\n            setResult({...result,\r\n            [e.target.name]: !result.pegleg})\r\n        }\r\n\r\n        else if (e.target.name===\"hookhand\"){\r\n            setResult({...result,\r\n            [e.target.name]: !result.hookhand})\r\n        }\r\n\r\n        else if (e.target.name===\"eyepatch\"){\r\n            setResult({...result,\r\n            [e.target.name]: !result.eyepatch})\r\n        }\r\n\r\n\r\n\r\n        // else if (typeof e.target.value===Boolean){\r\n        //     console.log(\"boolean\")\r\n        //     setResult({...result,\r\n        //     [e.target.name]: !e.target.value})\r\n        // }\r\n        else {\r\n            setResult({...result,\r\n                [e.target.name]:e.target.value\r\n            })\r\n            \r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={()=>history.goBack()}>Go back</button>\r\n        <form onSubmit={submitHandler}>\r\n            <p>\r\n                <label>Name</label><br />\r\n                <input type=\"text\" name=\"name\" onChange={e => resultHandler(e)} value={result.name} />\r\n                {result.name<2?\"Name must be at least 2 characters\":\"\"}\r\n            </p>\r\n            <p>\r\n                <label>Chests</label><br />\r\n                <input type=\"number\" name=\"chests\" onChange={e => resultHandler(e)} value={result.price} />\r\n\r\n            </p>\r\n            <p>\r\n                <label>Catchphrase</label><br />\r\n                <input type=\"text\" name=\"catchphrase\" onChange={e => resultHandler(e)} value={result.catchphrase} />\r\n            </p>\r\n            <p>\r\n                <label>Post</label><br />\r\n                <select name=\"post\" onClick={e=>resultHandler(e)}>\r\n                    <option  value=\"\" >Choose your post!</option>\r\n                    <option   value=\"Captain\" >Captain</option>\r\n                    <option   value=\"First Mate\" >First Mate</option>\r\n                    <option  value=\"Boatswain\" > Boatswain</option>\r\n                    <option   value=\"Powder Monkey\" >Powder Monkey</option>\r\n                </select>\r\n            </p>\r\n            <p>\r\n                <label>image</label><br />\r\n                <input type=\"text\" name=\"image\" onChange={e => resultHandler(e)} value={result.image} />\r\n            </p>\r\n            <p>\r\n                <label>Pegleg?</label><br/>\r\n                <input type=\"checkbox\" name=\"pegleg\" checked={result.pegleg} onChange={e => resultHandler(e)} />\r\n            </p>\r\n            <p>\r\n                <label>Eyepatch?</label><br/>\r\n                <input type=\"checkbox\" name=\"eyepatch\" checked={result.eyepatch} onChange={e => resultHandler(e)} />\r\n            </p>\r\n            <p>\r\n                <label>Hookhand?</label><br/>\r\n                <input type=\"checkbox\" name=\"hookhand\" checked={result.hookhand} onChange={e => resultHandler(e)} />\r\n            </p>\r\n            <button disabled={result.name<3 || result.chests<1 || result.catchphrase<5 || result.image===\"\" || result.post===\"\"} type=\"submit\">Submit form</button>\r\n        </form>\r\n        {\r\n            errorArray.map((err,i)=>(\r\n                <p key={i}>{err}</p>\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Add;\r\n"]},"metadata":{},"sourceType":"module"}